"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[82],{81082:function(e,s,i){i.r(s),i.d(s,{default:function(){return p}});var t=i(1413),r=i(70885),a=i(72791),l=i(78983),n=i(95581),d=i(74569),o=i.n(d),c=i(80184),h=function(){return(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignContent:"center"},children:(0,c.jsxs)(l.oo,{title:"Processing",autohide:!1,visible:!0,style:{display:"inline-block"},children:[(0,c.jsxs)(l.xZ,{closeButton:!0,children:[(0,c.jsx)(l.LQ,{style:{margin:"5px"},component:"span",size:"sm","aria-hidden":"true"}),(0,c.jsx)("strong",{className:"me-auto",children:" Processing"}),(0,c.jsx)("small",{children:"now"})]}),(0,c.jsxs)(l.S3,{children:["Your image is being processed... ",(0,c.jsx)("br",{}),"No image uploaded to the server is stored."]})]})})},x=i(42982),u=i(33035),j=i(59434),m=function(e){var s=(0,a.useState)(void 0),i=(0,r.Z)(s,2),t=i[0],n=i[1],d=(0,j.v9)((function(e){return e.form}));console.log(d);var o=new FileReader;o.readAsDataURL(d.image[0]),o.onload=function(e){n(e.target.result)};var h={labels:[],datasets:[{data:[],backgroundColor:["#FF6\u203084","#4BC0C0","#FFCE56","#36A2EB"]}]};Object.keys(e.result).forEach((function(s){h.labels.push(s),h.datasets[0].data.push(e.result[s])}));var m=h.labels[h.datasets[0].data.indexOf(Math.max.apply(Math,(0,x.Z)(h.datasets[0].data)))];return(0,c.jsx)("div",{children:(0,c.jsxs)(l.xH,{children:[(0,c.jsx)(l.bn,{children:(0,c.jsx)("strong",{children:" Results "})}),(0,c.jsxs)(l.sl,{children:[(0,c.jsx)(l.tj,{children:"Congrats!"}),(0,c.jsx)("p",{className:"text-medium-emphasis small",children:"Your image is successfully identified!"}),(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:[(0,c.jsxs)(l.xH,{style:{margin:"30px",width:"300px",display:"inline-flex",border:"0px"},children:[(0,c.jsx)(l.pX,{style:{borderTopLeftRadius:"3px",borderTopRightRadius:"3px",borderBottomLeftRadius:"3px",borderBottomRightRadius:"3px"},orientation:"bottom",src:t}),(0,c.jsxs)(l.sl,{style:{backgroundcolor:"grey"},children:[(0,c.jsx)(l.tj,{align:"left",children:d.name}),(0,c.jsxs)(l.uS,{children:[(0,c.jsx)("font",{align:"left",children:"Type:"}),(0,c.jsx)("font",{color:"36A2EB",children:(0,c.jsx)("strong",{align:"right",children:m})}),(0,c.jsx)("br",{}),(0,c.jsx)("font",{align:"left",children:"Private:"}),(0,c.jsx)("strong",{children:d.shareSwitch?"No":"Yes"})]})]})]}),(0,c.jsx)(u.MG,{style:{display:"inline-flex",width:"300px"},data:h})]})]})]})})},p=function(){var e=(0,j.I0)(),s=(0,n.cI)(),i=s.register,d=s.handleSubmit,x=a.useState(!1),u=(0,r.Z)(x,2),p=u[0],f=u[1],g=a.useState(null),b=(0,r.Z)(g,2),y=b[0],v=b[1];return(0,c.jsxs)("div",{children:[!p&&!y&&(0,c.jsx)(l.rb,{children:(0,c.jsx)(l.b7,{xs:12,children:(0,c.jsxs)(l.xH,{className:"mb-4",children:[(0,c.jsxs)(l.bn,{children:[(0,c.jsx)("strong",{children:"Start Diagnosis"})," ",(0,c.jsx)("small",{children:"Upload photo to start diagnosis"})]}),(0,c.jsx)(l.sl,{children:(0,c.jsxs)(l.lx,{onSubmit:d((function(s){e({type:"set",form:s});var i=new FormData;f(!0),Object.keys(s).forEach((function(e){"image"===e?i.append(e,s[e][0]):i.append(e,s[e])})),o().post("/api/predict",i,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(s){e({type:"set",result:s.data}),v(s.data),console.log(s.data)}))})),children:[(0,c.jsxs)(l.b7,{className:"mb-3",md:6,children:[(0,c.jsx)(l.L8,{htmlFor:"formName",children:"Name this diagnosis:"}),(0,c.jsxs)(l.YR,{className:"has-validation",children:[(0,c.jsx)(l.jO,(0,t.Z)((0,t.Z)({},i("name")),{},{type:"text",id:"formName",placeholder:"Input Name",required:!0})),(0,c.jsx)(l.CO,{invalid:!0,children:"Please choose a username."})]})]}),(0,c.jsxs)(l.b7,{className:"mb-3",md:3,children:[(0,c.jsx)(l.L8,{htmlFor:"formType",required:!0,children:"Select image type:"}),(0,c.jsxs)(l.LX,(0,t.Z)((0,t.Z)({},i("type")),{},{"aria-label":"Select type:",id:"formType",children:[(0,c.jsx)("option",{children:"Select type"}),(0,c.jsx)("option",{value:"jpeg",children:"jpeg"}),(0,c.jsx)("option",{value:"png",children:"png"}),(0,c.jsx)("option",{value:"tiff",children:"tiff"})]})),(0,c.jsx)(l.CO,{invalid:!0,children:"Please choose a username."})]}),(0,c.jsxs)(l.b7,{className:"mb-3",md:6,children:[(0,c.jsx)(l.L8,{htmlFor:"formFile",children:"Upload image:"}),(0,c.jsx)(l.jO,(0,t.Z)((0,t.Z)({},i("image")),{},{type:"file",id:"formFile"}))]}),(0,c.jsx)(l.b7,{md:5,children:(0,c.jsx)(l.kV,(0,t.Z)((0,t.Z)({},i("shareSwitch")),{},{label:"Share Data with us",id:"formSwitch"}))}),(0,c.jsxs)(l.b7,{md:7,children:[(0,c.jsx)("br",{}),(0,c.jsx)(l.u5,{type:"submit",color:"primary",className:"text-end",children:"Submit"})]})]})})]})})}),p&&!y&&(0,c.jsx)(h,{}),y&&(0,c.jsx)(m,{result:y})]})}}}]);
//# sourceMappingURL=82.033c22a6.chunk.js.map