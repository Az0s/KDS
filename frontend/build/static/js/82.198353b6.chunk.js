"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[82],{81082:function(e,s,r){r.r(s),r.d(s,{default:function(){return p}});var i=r(1413),n=r(70885),l=r(72791),t=r(78983),a=r(95581),d=r(74569),c=r.n(d),o=r(80184),h=function(){return(0,o.jsx)("div",{children:(0,o.jsxs)(t.oo,{title:"Processing",autohide:!1,visible:!0,children:[(0,o.jsxs)(t.xZ,{closeButton:!0,children:[(0,o.jsx)("div",{style:{margin:"5px"},children:(0,o.jsx)(t.LQ,{component:"span",size:"sm","aria-hidden":"true"})}),(0,o.jsx)("strong",{className:"me-auto",children:" Processing"}),(0,o.jsx)("small",{children:"now"})]}),(0,o.jsxs)(t.S3,{children:["Your image is being processed... ",(0,o.jsx)("br",{}),"No image uploaded to the server is stored."]})]})})},x=r(42982),j=r(33035),m=r(59434),u=function(e){var s=(0,l.useState)(),r=(0,n.Z)(s,2),i=r[0],a=r[1],d=(0,m.v9)((function(e){return e.form}));console.log(d);var c=new FileReader;c.readAsDataURL(d.image[0]),c.onload=function(e){a(e.target.result)};var h={labels:[],datasets:[{data:[],backgroundColor:["#FF6\u203084","#4BC0C0","#FFCE56","#36A2EB"]}]};Object.keys(e.result).forEach((function(s){h.labels.push(s),h.datasets[0].data.push(e.result[s])}));var u=h.labels[h.datasets[0].data.indexOf(Math.max.apply(Math,(0,x.Z)(h.datasets[0].data)))];return(0,o.jsx)("div",{children:(0,o.jsxs)(t.xH,{children:[(0,o.jsx)(t.bn,{children:(0,o.jsx)("strong",{children:" Results "})}),(0,o.jsxs)(t.sl,{children:[(0,o.jsx)(t.tj,{children:"Congrats!"}),(0,o.jsx)("p",{className:"text-medium-emphasis small",children:"Your image is successfully identified!"}),(0,o.jsxs)(t.rb,{children:[(0,o.jsxs)(t.b7,{center:!0,md:4,sm:6,xs:10,children:[(0,o.jsx)("strong",{children:"Uploaded image"}),(0,o.jsx)("hr",{}),(0,o.jsxs)(t.xH,{align:"center",style:{margin:"10px"},children:[(0,o.jsx)(t.pX,{orientation:"bottom",src:i,width:"10wh"}),(0,o.jsxs)(t.sl,{children:[(0,o.jsx)(t.tj,{align:"left",children:d.name}),(0,o.jsxs)(t.uS,{children:[(0,o.jsxs)(t.rb,{children:[(0,o.jsx)(t.b7,{align:"left",children:"type:"}),(0,o.jsx)(t.b7,{children:(0,o.jsx)("font",{color:"36A2EB",children:(0,o.jsx)("strong",{children:u})})})]}),(0,o.jsxs)(t.rb,{children:[(0,o.jsx)(t.b7,{align:"left",children:"Private:"}),(0,o.jsx)(t.b7,{children:(0,o.jsx)("strong",{children:d.shareSwitch?"No":"Yes"})})]})]})]})]})]}),(0,o.jsx)(t.b7,{children:(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Result"}),(0,o.jsx)("hr",{}),(0,o.jsx)(j.MG,{style:{width:"18rem"},data:h})]})})]})]})]})})},p=function(){var e=(0,m.I0)(),s=(0,a.cI)(),r=s.register,d=s.handleSubmit,x=l.useState(!1),j=(0,n.Z)(x,2),p=j[0],b=j[1],f=l.useState(null),g=(0,n.Z)(f,2),v=g[0],y=g[1];return(0,o.jsxs)("div",{children:[!p&&!v&&(0,o.jsx)(t.rb,{children:(0,o.jsx)(t.b7,{xs:12,children:(0,o.jsxs)(t.xH,{className:"mb-4",children:[(0,o.jsxs)(t.bn,{children:[(0,o.jsx)("strong",{children:"Start Diagnosis"})," ",(0,o.jsx)("small",{children:"Upload photo to start diagnosis"})]}),(0,o.jsx)(t.sl,{children:(0,o.jsxs)(t.lx,{onSubmit:d((function(s){e({type:"set",form:s});var r=new FormData;b(!0),Object.keys(s).forEach((function(e){"image"===e?r.append(e,s[e][0]):r.append(e,s[e])})),c().post("/api/predict",r,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(s){e({type:"set",result:s.data}),y(s.data),console.log(s.data)}))})),children:[(0,o.jsxs)(t.b7,{className:"mb-3",md:6,children:[(0,o.jsx)(t.L8,{htmlFor:"formName",children:"Name this diagnosis:"}),(0,o.jsxs)(t.YR,{className:"has-validation",children:[(0,o.jsx)(t.jO,(0,i.Z)((0,i.Z)({},r("name")),{},{type:"text",id:"formName",placeholder:"Input Name",required:!0})),(0,o.jsx)(t.CO,{invalid:!0,children:"Please choose a username."})]})]}),(0,o.jsxs)(t.b7,{className:"mb-3",md:3,children:[(0,o.jsx)(t.L8,{htmlFor:"formType",required:!0,children:"Select image type:"}),(0,o.jsxs)(t.LX,(0,i.Z)((0,i.Z)({},r("type")),{},{"aria-label":"Select type:",id:"formType",children:[(0,o.jsx)("option",{children:"Select type"}),(0,o.jsx)("option",{value:"jpeg",children:"jpeg"}),(0,o.jsx)("option",{value:"png",children:"png"}),(0,o.jsx)("option",{value:"tiff",children:"tiff"})]})),(0,o.jsx)(t.CO,{invalid:!0,children:"Please choose a username."})]}),(0,o.jsxs)(t.b7,{className:"mb-3",md:6,children:[(0,o.jsx)(t.L8,{htmlFor:"formFile",children:"Upload image:"}),(0,o.jsx)(t.jO,(0,i.Z)((0,i.Z)({},r("image")),{},{type:"file",id:"formFile"}))]}),(0,o.jsx)(t.b7,{md:5,children:(0,o.jsx)(t.kV,(0,i.Z)((0,i.Z)({},r("shareSwitch")),{},{label:"Share Data with us",id:"formSwitch"}))}),(0,o.jsxs)(t.b7,{md:7,children:[(0,o.jsx)("br",{}),(0,o.jsx)(t.u5,{type:"submit",color:"primary",className:"text-end",children:"Submit"})]})]})})]})})}),p&&!v&&(0,o.jsx)(h,{}),v&&(0,o.jsx)(u,{result:v})]})}}}]);
//# sourceMappingURL=82.198353b6.chunk.js.map